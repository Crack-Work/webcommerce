<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Logo - WooShop Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .logo-preview {
            max-width: 200px;
            max-height: 100px;
            border: 2px dashed #dee2e6;
            padding: 20px;
            border-radius: 8px;
            background: #f8f9fa;
        }
        .logo-preview img {
            max-width: 100%;
            max-height: 80px;
            object-fit: contain;
        }
        .upload-area {
            border: 2px dashed #3698D4;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            background: #f8f9fa;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .upload-area:hover {
            background: #e9ecef;
            border-color: #1D72AC;
        }
        .upload-area.dragover {
            background: #e3f2fd;
            border-color: #1976d2;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0"><i class="fas fa-image me-2"></i>Update Website Logo</h4>
                    </div>
                    <div class="card-body">
                        <!-- Current Logo Preview -->
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <h6>Current Header Logo:</h6>
                                <div class="logo-preview">
                                    <img id="current-header-logo" src="images/logo.png" alt="Current Header Logo" style="height: 70px; width: auto;" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzUiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA3NSA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMzcuNSA0N0MzNy41IDQ3IDE5IDM5IDE5IDIyQzE5IDE1IDIzIDcgMzcuNSA0QzUyIDcgNTYgMTUgNTYgMjJDNTYgMzkgMzcuNSA0NyAzNy41IDQ3WiIgZmlsbD0iIzVCQjVENiIvPjxwYXRoIGQ9Ik0zNy41IDQzQzM3LjUgNDMgMjIgMzYgMjIgMjJDMjIgMTYgMjUgMTAgMzcuNSA3QzUwIDEwIDUzIDE2IDUzIDIyQzUzIDM2IDM3LjUgNDMgMzcuNSA0M1oiIGZpbGw9IiM3RkM3RTgiLz48cGF0aCBkPSJNMzcuNSAzOUMzNy41IDM5IDI3IDMzIDI3IDIyQzI3IDE3IDMwIDEyIDM3LjUgMTBDNDUgMTIgNDggMTcgNDggMjJDNDggMzMgMzcuNSAzOSAzNy41IDM5WiIgZmlsbD0iI0EzRDVGMCIvPjwvc3ZnPg=='">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Current Footer Logo:</h6>
                                <div class="logo-preview">
                                    <img id="current-footer-logo" src="images/logo.png" alt="Current Footer Logo" style="height: 70px; width: auto;" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzUiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA3NSA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMzcuNSA0N0MzNy41IDQ3IDE5IDM5IDE5IDIyQzE5IDE1IDIzIDcgMzcuNSA0QzUyIDcgNTYgMTUgNTYgMjJDNTYgMzkgMzcuNSA0NyAzNy41IDQ3WiIgZmlsbD0iIzVCQjVENiIvPjxwYXRoIGQ9Ik0zNy41IDQzQzM3LjUgNDMgMjIgMzYgMjIgMjJDMjIgMTYgMjUgMTAgMzcuNSA3QzUwIDEwIDUzIDE2IDUzIDIyQzUzIDM2IDM3LjUgNDMgMzcuNSA0M1oiIGZpbGw9IiM3RkM3RTgiLz48cGF0aCBkPSJNMzcuNSAzOUMzNy41IDM5IDI3IDMzIDI3IDIyQzI3IDE3IDMwIDEyIDM3LjUgMTBDNDUgMTIgNDggMTcgNDggMjJDNDggMzMgMzcuNSAzOSAzNy41IDM5WiIgZmlsbD0iI0EzRDVGMCIvPjwvc3ZnPg=='">
                                </div>
                            </div>
                        </div>

                        <!-- Upload Area -->
                        <div class="upload-area" id="uploadArea" onclick="document.getElementById('logoInput').click()">
                            <i class="fas fa-cloud-upload-alt fa-3x text-primary mb-3"></i>
                            <h5>Upload New Logo</h5>
                            <p class="text-muted">Click here or drag and drop your logo file</p>
                            <p class="small text-muted">Supported formats: PNG, JPG, JPEG, SVG | Max size: 2MB</p>
                        </div>
                        
                        <input type="file" id="logoInput" accept="image/*" style="display: none;">
                        
                        <!-- Preview Area -->
                        <div id="previewArea" class="mt-4" style="display: none;">
                            <h6>Preview:</h6>
                            <div class="row">
                                <div class="col-md-6">
                                    <p class="small">Header Preview:</p>
                                    <div style="background: white; padding: 15px; border: 1px solid #dee2e6; border-radius: 4px;">
                                        <img id="previewHeader" style="height: 70px; width: auto;">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <p class="small">Footer Preview:</p>
                                    <div style="background: #1F2937; padding: 15px; border-radius: 4px;">
                                        <img id="previewFooter" style="height: 70px; width: auto;">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-3">
                                <button class="btn btn-success" id="applyLogo">
                                    <i class="fas fa-check me-2"></i>Apply New Logo
                                </button>
                                <button class="btn btn-secondary ms-2" id="cancelUpload">
                                    <i class="fas fa-times me-2"></i>Cancel
                                </button>
                            </div>
                        </div>

                        <!-- Instructions -->
                        <div class="mt-4">
                            <h6>Instructions:</h6>
                            <ol class="small text-muted">
                                <li>Choose a logo image file (PNG, JPG, JPEG, or SVG format)</li>
                                <li>Make sure the logo has a transparent background for best results</li>
                                <li>Recommended dimensions: 200x80 pixels or similar ratio</li>
                                <li>Preview your logo in both header and footer contexts</li>
                                <li>Click "Apply New Logo" to update your website</li>
                            </ol>
                        </div>

                        <!-- Back to Website -->
                        <div class="mt-4 pt-3 border-top">
                            <a href="index.html" class="btn btn-outline-primary">
                                <i class="fas fa-arrow-left me-2"></i>Back to Website
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const uploadArea = document.getElementById('uploadArea');
        const logoInput = document.getElementById('logoInput');
        const previewArea = document.getElementById('previewArea');
        const previewHeader = document.getElementById('previewHeader');
        const previewFooter = document.getElementById('previewFooter');
        const applyButton = document.getElementById('applyLogo');
        const cancelButton = document.getElementById('cancelUpload');

        let selectedFile = null;

        // Drag and drop functionality
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleFile(files[0]);
            }
        });

        // File input change
        logoInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleFile(e.target.files[0]);
            }
        });

        // Handle file selection
        function handleFile(file) {
            // Validate file type
            const allowedTypes = ['image/png', 'image/jpeg', 'image/jpg', 'image/svg+xml'];
            if (!allowedTypes.includes(file.type)) {
                alert('Please select a valid image file (PNG, JPG, JPEG, or SVG)');
                return;
            }

            // Validate file size (2MB limit)
            if (file.size > 2 * 1024 * 1024) {
                alert('File size must be less than 2MB');
                return;
            }

            selectedFile = file;
            const reader = new FileReader();
            
            reader.onload = (e) => {
                const imageUrl = e.target.result;
                previewHeader.src = imageUrl;
                previewFooter.src = imageUrl;
                previewArea.style.display = 'block';
            };
            
            reader.readAsDataURL(file);
        }

        // Apply new logo
        applyButton.addEventListener('click', () => {
            if (!selectedFile) return;

            const reader = new FileReader();
            reader.onload = (e) => {
                const imageData = e.target.result;
                
                // Store in localStorage for persistence
                localStorage.setItem('customLogo', imageData);
                
                // Update current logo previews
                document.getElementById('current-header-logo').src = imageData;
                document.getElementById('current-footer-logo').src = imageData;
                
                // Hide preview area
                previewArea.style.display = 'none';
                selectedFile = null;
                logoInput.value = '';
                
                alert('Logo updated successfully! The new logo will appear on your website.');
            };
            reader.readAsDataURL(selectedFile);
        });

        // Cancel upload
        cancelButton.addEventListener('click', () => {
            previewArea.style.display = 'none';
            selectedFile = null;
            logoInput.value = '';
        });

        // Load custom logo on page load
        window.addEventListener('load', () => {
            const customLogo = localStorage.getItem('customLogo');
            if (customLogo) {
                document.getElementById('current-header-logo').src = customLogo;
                document.getElementById('current-footer-logo').src = customLogo;
            }
        });
    </script>
    <script src="js/responsive.js"></script>
</body>
</html>